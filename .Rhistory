dir()
setwd("C:/Users/groshev.va/Desktop/ab")
data = read.csv("ab_test_results_aggregated_views_clicks_6.csv")
names(data) <- c("user_id", "group", "clicks","number_of_purchases" )
#Выбираем контрольную группу, для подсчета базовой конверсии
control_group = filter(data, group == 'control')
test_group = filter(data, group == 'test')
#Подсчитываем базовую конверсию
#Конверсия = (Количество успешных конверсий / Общее количество кликов)
A_conversion = (sum(control_group$number_of_purchases) / sum(control_group$clicks))
#Конверсия = 0.0694
#Допустим, что мы хотим увеличить конверсию на 25%
mde = 0.25
target_conversion = A_conversion*mde + A_conversion
#Считаем мощность теста при нашей выборке
power.prop.test(n = length( data$user_id), p1 = A_conversion, p2 = target_conversion, sig.level = 0.05,
alternative = "two.sided")
#Так как мощность = 1, мы можем утверждать, что вероятность того, что
#тест покажет различия между тестовой и контрольной группами, при условии, что они действительно есть является 100%
#Это объясняется объемом датасета, обычно рекомендованная мощность равна 0,8
power.prop.test( p1 = A_conversion, p2 = target_conversion, sig.level = 0.05, power = 0.8,
alternative = "two.sided")
B_conversion = (sum(test_group$number_of_purchases) / sum(test_group$clicks))#0.0799
dif_conv = (B_conversion - A_conversion)/A_conversion
View(test_group)
View(control_group)
